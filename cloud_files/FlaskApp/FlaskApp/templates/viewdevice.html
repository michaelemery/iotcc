{% extends "header.html" %}

{%block title%}
<title>View Device</title>
{% endblock %}

{% block body %}
<body>
    <div class = "row display-flex">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <div class="jumbotron">

                <h1 class="text-center environment_name_space"> {{ environment_name }}  </h1>

                <div class="panel panel-info">
                    <div class="panel-heading"><h3>Plant Profile</h3></div>
                    <div class="panel-body">
                        <div>
                            <a href="/modifyplantprofile" class="list-group-item"> {{ plant_profile }} <span class="glyphicon glyphicon-pencil small" style="color:rgb(49, 128, 179)"></span></a>
                        </div>
                    </div>
                </div>

                <div class="panel panel-info">
                    <div class="panel-heading"><h3>Sensors</h3></div>
                    <div class="panel-body">
                        <div class="list-group">
                            {% for sensor_id, sensor in sensors.items() %}
                            <a href="#" data-toggle="modal" data-target="#removesensormodal{{sensor_id}}" data-toggle class="list-group-item"> {{ sensor }} <small><span class="glyphicon glyphicon-remove small" style="color:red"></small></span></span></a>
                            <!-- MODAL START -->
                                <div id="removesensormodal{{sensor_id}}" class="modal fade" role="dialog">
                                    <div class="modal-dialog">
                                        <!-- Modal content-->
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal">&times;</button> 
                                                <h2 class="modal-title">Are you sure you want to remove the <span style="color:red" >{{ sensor }} </span> sensor?</h2>
                                            </div>
                                            <div class="modal-body">
                                                <form action="/removesensor" method="post">
                                                    <div class="form-group">
                                                        <input type="hidden" name="sensor" value="{{ sensor }}">
                                                        <input type="hidden" name="sensor_id" value="{{ sensor_id }}">
                                                        <button type="button" class="btn btn-lg btn-default" data-dismiss="modal">Cancel</button>
                                                        <button type="submit" class="btn btn-lg btn-default">Yes</button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                        </div>
                                    </div>
                                </div>

                            <!-- MODAL END -->
                            {% endfor %}
                            <a href="/selectsensor" class="list-group-item"><span class="glyphicon glyphicon-plus" style="color:rgb(49, 128, 179)"></span> Add new sensor </a>
                        </div>
                    </div>
                </div>

                <div class="panel panel-info">
                    <div class="panel-heading"><h3>Controllers</h3></div>
                    <div class="panel-body">
                        <div class="list-group">
                            {% for ce_id, ce in control_elements.items() %}
                            <a href="#" data-toggle="modal" data-target="#removecemodal{{ce_id}}" data-toggle class="list-group-item"> {{ ce }} <small><span class="glyphicon glyphicon-remove small" style="color:red"></span></small></a>

                            <!-- MODAL START -->
                                <div id="removecemodal{{ce_id}}" class="modal fade" role="dialog">
                                    <div class="modal-dialog">
                                        <!-- Modal content-->
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal">&times;</button> 
                                                <h2 class="modal-title">Are you sure you want to remove the <span style="color:red" >{{ ce }} </span> controller?</h2>
                                            </div>
                                            <div class="modal-body">
                                                <form action="/removecontroller" method="post">
                                                    <div class="form-group">
                                                        <input type="hidden" name="ce" value="{{ ce }}">
                                                        <input type="hidden" name="ce_id" value="{{ ce_id }}">
                                                        <button type="button" class="btn btn-lg btn-default" data-dismiss="modal">Cancel</button>
                                                        <button type="submit" class="btn btn-lg btn-default">Yes</button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                        </div>
                                    </div>
                                </div>

                            <!-- MODAL END -->

                            {% endfor %}
                            <a href="/selectcontroller" class="list-group-item"><span class="glyphicon glyphicon-plus" style="color:rgb(49, 128, 179)"></span> Add New Control Element </a>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div class = "row display-flex">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <a href="/viewpictures"><div class="jumbotron text-center"><h2>View Pictures</h2><img class="img-responsive limit_image_height_devices" src="/static/images/plant_in_jar.svg" alt="Plant in a jar"></div></a>
        </div>
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <a href="/datalog"><div class="jumbotron text-center"><h2>View Data log</h2><img class="img-responsive limit_image_height_devices" src="/static/images/plant_in_jar.svg" alt="Plant in a jar"></div></a>
        </div>
    </div>


</body>


{% endblock %}