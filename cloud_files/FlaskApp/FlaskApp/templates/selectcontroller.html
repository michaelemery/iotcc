{% extends "header.html" %}

{%block title%}
<title>Select control for {{ session.environment_name }}</title>
{% endblock %}

{% block body %}
<body>
    <div class = "row display-flex">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <div class="jumbotron">
                <span class="text-center environment_name_space"><h2>Select a Controller for </h2> <h1>{{ session.environment_name }} </h1>  </span>

                <div class="panel panel-success">
                    <div class="panel-heading"><h3>Add a New Controller</h3></div>
                    <div class="panel-body">
                        <div class="list-group">
                            {% for controller_type_id,controller_type_name in controllers.items() %}
                            <a href="#" data-toggle="modal" data-target="#portmodal{{ controller_type_id }}" class="list-group-item"> {{ controller_type_name }} <small><span class="glyphicon glyphicon-plus small" style="color:green"></small></span></span></a>
                            
                            <div id="portmodal{{ controller_type_id }}" class="modal fade" role="dialog">
                            <div class="modal-dialog">

                                <!-- Modal content-->
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button> 
                                        <h2 class="modal-title">Select port for {{ controller_type_name }} controller</h2>

                                    </div>
                                    <div class="modal-body">
                                        <form action="/addsensor" method="post">
                                            <div class="form-group">
                                                <div class="radio">
                                                <label class="btn btn-lg bth-default"><input type="radio" name="port" value="1">Port 1</label>
                                                </div>
                                                <div class="radio">
                                                <label class="btn btn-lg bth-default"><input type="radio" name="port" value="2">Port 2</label>
                                                </div>
                                                <div class="radio">
                                                <label class="btn btn-lg bth-default"><input type="radio" name="port" value="3">Port 3</label>
                                                </div>
                                                <div class="radio">
                                                <label class="btn btn-lg bth-default"><input type="radio" name="port" value="4">Port 4</label>
                                                </div>
                                                <div class="radio">
                                                <label class="btn btn-lg bth-default"><input type="radio" name="port" value="5">Port 5</label>
                                                </div>
                                                <div class="radio">
                                                <label class="btn btn-lg bth-default"><input type="radio" name="port" value="6">Port 6</label>
                                                </div>

                                            </div>
                                            <div class="form-group">
                                                <input type="hidden" name="controller_type_id" value="{{ controller_type_id }}">
                                                <input type="hidden" name="controller_type_name" value="{{ controller_type_name }}">
                                                <button type="button" class="btn btn-lg btn-default" data-dismiss="modal">Cancel</button>
                                                <button type="submit" class="btn btn-lg btn-default">Submit</button>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="modal-footer">
                                    </div>
                                    </div>
                                </div>
                            </div>

                            {% endfor %}
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</body>


{% endblock %}